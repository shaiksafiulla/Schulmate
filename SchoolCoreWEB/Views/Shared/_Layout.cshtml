@using Microsoft.Extensions.Localization
@using Newtonsoft.Json
@using SchoolCoreWEB.Controllers
@using SchoolCoreWEB.Models
@using Localization.Services
@inject IConfiguration Configuration
@{
	var cssfile = "";
	VUserInfo user = new VUserInfo();
	var userInfokey = @Context.Session.GetString("UserInfo");
	var notifycount = @Context.Session.GetString("noticount");
	if (userInfokey != null)
	{
		user = JsonConvert.DeserializeObject<VUserInfo>(userInfokey);
	}
	string strtoken = @Context.Session.GetString("strtoken");
	string directionCss = System.Threading.Thread.CurrentThread.CurrentUICulture.TextInfo.IsRightToLeft ? "rtl" : "ltr";
	if (directionCss == "rtl")
	{
		cssfile = "app-modern-rtl.min.css";
	}
	else
	{
		cssfile = "app-modern.min.css";
	}

	var lang = System.Threading.Thread.CurrentThread.CurrentUICulture.Name;
}

<!DOCTYPE html>

<html lang=@lang data-topbar-color="light" data-sidenav-color="light" data-sidenav-size="condensed" dir=@directionCss>
@*<html lang="en" data-layout-mode="detached" data-sidenav-size="full">*@
<head>


	<meta charset="utf-8" />
	<title>Schulmate | Your Assistant in School Management</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta content="Your Assistant in School Management" name="Schulmate" />
	<link rel="manifest" href="~/_manifest.json">
	<link rel="shortcut icon" href="~/assets/images/favicon.ico">

	@* <link href="~/assets/css/bundle.min.css" rel="stylesheet" type="text/css" /> *@
	<link href="~/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
	<link href="~/assets/css/@cssfile" rel="stylesheet" type="text/css" id="app-style" />
	<link href="~/assets/css/spinner.css" rel="stylesheet" type="text/css" />
	<link href="~/assets/css/action.css" rel="stylesheet" type="text/css" />
	<link href="~/assets/css/toastr.css" rel="stylesheet" type="text/css" />
	<link href="~/assets/css/formlabel.css" rel="stylesheet" type="text/css" />
	<link href="~/assets/vendor/datatables.net-bs5/css/dataTables.bootstrap5.min.css" rel="stylesheet" type="text/css" />

	@RenderSection("Styles", required: false)
	@* <link href="~/assets/css/printstyle.css" rel="stylesheet" type="text/css" />
		<link href="~/assets/css/seat.css" rel="stylesheet" type="text/css" />
		<link href="~/assets/css/heatmap.css" rel="stylesheet" type="text/css" />
		<link href="~/assets/css/timetable.css" rel="stylesheet" type="text/css" />
		<link href="~/assets/css/reportprintstyle.css" rel="stylesheet" type="text/css" />		
		<link href="~/assets/css/easyui.css" rel="stylesheet" type="text/css" />
		<link href="~/assets/css/bootstrap-select.min.css" rel="stylesheet" type="text/css" />
		<link href="~/assets/css/pdf_viewer.min.css" rel="stylesheet" type="text/css" />
		<link href="~/assets/vendor/quill/quill.snow.css" rel="stylesheet" type="text/css" />
		<link href="~/assets/css/jquerydtstyle.css" rel="stylesheet" type="text/css" />
		<link href="~/assets/vendor/select2/css/select2.min.css" rel="stylesheet" />
		<link href="~/assets/css/example-styles.css" rel="stylesheet" type="text/css" />
		<link href="~/assets/vendor/fullcalendar/main.min.css" rel="stylesheet" type="text/css" />		
		<link href="~/assets/vendor/datatables.net-bs5/css/dataTables.bootstrap5.min.css" rel="stylesheet" type="text/css" />
		<link href="~/assets/vendor/datatables.net-responsive-bs5/css/responsive.bootstrap5.min.css" rel="stylesheet" type="text/css" />
		<link href="~/assets/vendor/datatables.net-buttons-bs5/css/buttons.bootstrap5.min.css" rel="stylesheet" type="text/css" />
		<link href="~/assets/vendor/datatables.net-select-bs5/css/select.bootstrap5.min.css" rel="stylesheet" type="text/css" /> *@
	<style>
		.wrapper {
			overflow: visible !important;
		}

		body {
			overflow-x: auto !important;
		}
	</style>
</head>

<body>
	<!-- Begin page -->
	<div class="wrapper">


		<!-- ========== Topbar Start ========== -->
		<div class="navbar-custom topnav-navbar">
			<div class="container-fluid detached-nav">

				<!-- Topbar Logo -->
				<div class="logo-topbar">
					<!-- Logo light -->
					<a href="@Url.Action("Index", "Home")" class="logo-light">
						<span class="logo-lg">
							<img src="~/assets/images/logo.png" alt="logo" height="22">
						</span>
						<span class="logo-sm">
							<img src="~/assets/images/logo-sm.png" alt="small logo" height="22">
						</span>
					</a>

					<!-- Logo Dark -->
					<a href="@Url.Action("Index", "Home")" class="logo-dark">
						<span class="logo-lg">
							<img src="~/assets/images/logo-dark.png" alt="dark logo" height="22">
						</span>
						<span class="logo-sm">
							<img src="~/assets/images/logo-dark-sm.png" alt="small logo" height="22">
						</span>
					</a>
				</div>

				<!-- Sidebar Menu Toggle Button -->
				<button class="button-toggle-menu">
					<i class="mdi mdi-menu"></i>
				</button>

				<!-- Horizontal Menu Toggle Button -->
				<button class="navbar-toggle" data-bs-toggle="collapse" data-bs-target="#topnav-menu-content">
					<div class="lines">
						<span></span>
						<span></span>
						<span></span>
					</div>
				</button>

				<ul class="list-unstyled topbar-menu float-end mb-0">

					@*  @{
                        <li><a href="@Url.Action("ChangeLanguage", "Home", new { culture = "en-US" })">English</a></li>
                        <li><a href="@Url.Action("ChangeLanguage", "Home", new { culture = "ar-SA" })">Arabic</a></li>
                        } *@


					@*@if (@directionCss == "rtl")
                    {
                        <li class="dropdown notification-list topbar-dropdown">
                            <a class="nav-link dropdown-toggle arrow-none" data-bs-toggle="dropdown" href="@Url.Action("ChangeLanguage", "Home", new { culture = "ar-SA" })" role="button" aria-haspopup="false" aria-expanded="false">
                                <img src="assets/images/flags/ksa.jpg" alt="user-image" class="me-0 me-sm-1" height="12">
                                <span class="align-middle d-none d-lg-inline-block">Arabic</span> <i class="mdi mdi-chevron-down d-none d-sm-inline-block align-middle"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-end dropdown-menu-animated topbar-dropdown-menu">

                                <a href="@Url.Action("ChangeLanguage", "Home", new { culture = "en-US" })" class="dropdown-item notify-item">
                                    <img src="~/assets/images/flags/us.jpg" alt="user-image" class="me-1" height="12"> <span class="align-middle">English</span>
                                </a>
                            </div>
                        </li>
                    }
                    else
                    {
                        <li class="dropdown notification-list topbar-dropdown">
                            <a class="nav-link dropdown-toggle arrow-none" data-bs-toggle="dropdown" href="@Url.Action("ChangeLanguage", "Home", new { culture = "en-US" })" role="button" aria-haspopup="false" aria-expanded="false">
                                <img src="assets/images/flags/us.jpg" alt="user-image" class="me-0 me-sm-1" height="12">
                                <span class="align-middle d-none d-lg-inline-block">English</span> <i class="mdi mdi-chevron-down d-none d-sm-inline-block align-middle"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-end dropdown-menu-animated topbar-dropdown-menu">

                                <a href="@Url.Action("ChangeLanguage", "Home", new { culture = "ar-SA" })" class="dropdown-item notify-item">
                                    <img src="~/assets/images/flags/ksa.jpg" alt="user-image" class="me-1" height="12"> <span class="align-middle">Arabic</span>
                                </a>
                            </div>
                        </li>
                    }*@


					<li class="notification-list d-none d-sm-inline-block">
						<a class="nav-link" data-bs-toggle="offcanvas" href="#theme-settings-offcanvas">
							<i class="ri-settings-3-line noti-icon"></i>
						</a>
					</li>

					<li class="notification-list d-none d-sm-inline-block">
						<a class="nav-link" href="javascript:void(0)" id="light-dark-mode">
							<i class="ri-moon-line noti-icon"></i>
						</a>
					</li>

					<li class="notification-list d-none d-md-inline-block">
						<a class="nav-link" href="" data-toggle="fullscreen">
							<i class="ri-fullscreen-line noti-icon"></i>
						</a>
					</li>
					<li class="notification-list d-none d-md-inline-block">
						<a class="nav-link" href="@Url.Action("Index","Notifications")">
							<i class="ri-notification-3-line noti-icon"></i>
							<span class="badge rounded-pill bg-danger" id="lblNoticount">@notifycount</span>
							@*<span class="noti-icon-badge">@notifycount</span>*@
						</a>
					</li>

					<li class="dropdown notification-list">
						<a class="nav-link dropdown-toggle nav-user arrow-none me-0" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false"
						   aria-expanded="false">
							<span class="account-user-avatar">
								<img src="@(user.FilePath)" alt="user-image" class="rounded-circle">
							</span>
							<span>
								<span class="account-user-name">@(user.FullName)</span>
								<span class="account-position">@(user.UserTypeName)</span>
							</span>
						</a>
						<div class="dropdown-menu dropdown-menu-end dropdown-menu-animated topbar-dropdown-menu profile-dropdown">
							<!-- item-->
							<div class=" dropdown-header noti-title">
								<h6 class="text-overflow m-0">Welcome !</h6>
							</div>
							<!-- item-->
							<a href="#" onclick="getProfile()" class="dropdown-item notify-item">
								<i class="mdi mdi-account-edit me-1"></i>
								<span>Profile</span>
							</a>

							<!-- item-->
							<a href="#" onclick="EditPassword()" class="dropdown-item notify-item">
								<i class="mdi mdi-account-edit me-1"></i>
								<span>Change Password</span>
							</a>


							<!-- item-->
							<a href="@Url.Action("LogOut","Login")" class="dropdown-item notify-item">
								<i class="mdi mdi-logout me-1"></i>
								<span>Logout</span>
							</a>
						</div>
					</li>
				</ul>


			</div>
		</div>
		<!-- ========== Topbar End ========== -->
		<!-- ========== Left Sidebar Start ========== -->
		<div class="leftside-menu">

			<!-- Logo Light -->
			<a href="@Url.Action("Index","Home")" class="logo logo-light">
				<span class="logo-lg">
					<img src="~/assets/images/logo.png" alt="logo" height="22">
				</span>
				<span class="logo-sm">
					<img src="~/assets/images/logo-sm.png" alt="small logo" height="22">
				</span>
			</a>

			<!-- Logo Dark -->
			<a href="@Url.Action("Index","Home")" class="logo logo-dark">
				<span class="logo-lg">
					<img src="~/assets/images/logo-dark.png" alt="dark logo" height="22">
				</span>
				<span class="logo-sm">
					<img src="~/assets/images/logo-dark-sm.png" alt="small logo" height="22">
				</span>
			</a>

			<!-- Sidebar Hover Menu Toggle Button -->
			<button type="button" class="bg-transparent button-sm-hover p-0" data-bs-toggle="tooltip" data-bs-placement="right" title="Show Full Sidebar">
				<i class="ri-checkbox-blank-circle-line align-middle"></i>
			</button>

			<!-- Sidebar -left -->
			<div class="h-100" id="leftside-menu-container" data-simplebar>
				<!-- Leftbar User -->
				<div class="leftbar-user">
					<a href="@Url.Action("Index","Home")">
						<img src="@(user.FilePath)" alt="user-image" height="42"
							 class="rounded-circle shadow-sm">
						<span class="leftbar-user-name">
							@(user.FullName)
						</span>
					</a>
				</div>
				<!--- Sidemenu -->
				<ul class="side-nav">


					@if (user != null && user.LstPages != null)
					{

						@* if ((user.LstPages).Contains("Look Up"))
                            {
                            <li class="side-nav-item">
                            <a href="@Url.Action("Index","Medium")" class="side-nav-link">
                            <i class="ri-information-line"></i>
                            <span> @_localization.Getkey("LookUps") </span>
                            </a>
                            </li>

                            } *@
						var isstructure = 0;
						@if ((user.LstPages).Contains("Look Up"))
						{
							isstructure = 1;
						}
						@if ((user.LstPages).Contains("Branches"))
						{
							isstructure = 1;
						}
						@if ((user.LstPages).Contains("Classes"))
						{
							isstructure = 1;
						}
						@if ((user.LstPages).Contains("Branch Classes"))
						{
							isstructure = 1;
						}
						@if ((user.LstPages).Contains("Sections"))
						{
							isstructure = 1;
						}
						@if (isstructure == 1)
						{
							<li class="side-nav-item">
								<a data-bs-toggle="collapse" href="#structuremenu" aria-expanded="false" aria-controls="structuremenu"
								   class="side-nav-link">
									<i class="uil-building"></i>
									<span> @_localization.Getkey("Structure") </span>
									<span class="menu-arrow"></span>
								</a>
								<div class="collapse" id="structuremenu">
									<ul class="side-nav-second-level">
										@if ((user.LstPages).Contains("Look Up"))
										{
											<li>
												<a href="@Url.Action("Index","Medium")">@_localization.Getkey("LookUps")</a>
											</li>
										}
										@if ((user.LstPages).Contains("Branches"))
										{
											<li>
												<a href="@Url.Action("Index","Branch")">@_localization.Getkey("Branches")</a>
											</li>
										}
										@if ((user.LstPages).Contains("Classes"))
										{
											<li>
												<a href="@Url.Action("Index","Class")">@_localization.Getkey("Classes")</a>
											</li>
										}
										@if ((user.LstPages).Contains("Branch Classes"))
										{
											<li>
												<a href="@Url.Action("Index","BranchClass")">@_localization.Getkey("Branch Classes")</a>
											</li>
										}
										@if ((user.LstPages).Contains("Sections"))
										{
											<li>
												<a href="@Url.Action("Index","Section")">@_localization.Getkey("Sections")</a>
											</li>
										}
									</ul>
								</div>
							</li>
						}

						var isuser = 0;
						@if ((user.LstPages).Contains("Admins"))
						{
							isuser = 1;
						}
						@if ((user.LstPages).Contains("Teachers"))
						{
							isuser = 1;
						}
						@if ((user.LstPages).Contains("Students"))
						{
							isuser = 1;
						}
						@if ((user.LstPages).Contains("Staff"))
						{
							isuser = 1;
						}
						@if ((user.LstPages).Contains("Fleet"))
						{
							isuser = 1;
						}
						@if (isuser == 1)
						{
							<li class="side-nav-item">
								<a data-bs-toggle="collapse" href="#usermenu" aria-expanded="false" aria-controls="usermenu"
								   class="side-nav-link">
									<i class="uil-users-alt"></i>
									<span> @_localization.Getkey("Users") </span>
									<span class="menu-arrow"></span>
								</a>
								<div class="collapse" id="usermenu">
									<ul class="side-nav-second-level">
										@if ((user.LstPages).Contains("Admins"))
										{
											<li>
												<a href="@Url.Action("Index","Admin")">@_localization.Getkey("Admins")</a>
											</li>
										}
										@if ((user.LstPages).Contains("Teachers"))
										{
											<li>
												<a href="@Url.Action("Index","Teacher")">@_localization.Getkey("Teachers")</a>
											</li>
										}
										@if ((user.LstPages).Contains("Students"))
										{
											<li>
												<a href="@Url.Action("Index","Student")">@_localization.Getkey("Students")</a>
											</li>
										}
										@if ((user.LstPages).Contains("Staff"))
										{
											<li>
												<a href="@Url.Action("Index","Staff")">@_localization.Getkey("Staff")</a>
											</li>
										}
										@* @if ((user.LstPages).Contains("Fleet"))
                                        {
                                            <li>
                                                <a href="@Url.Action("Index","Driver")">@_localization.Getkey("Fleet")</a>
                                            </li>
                                        }*@
									</ul>
								</div>
							</li>
						}
						if ((user.LstPages).Contains("Session Year"))
						{
							<li class="side-nav-item">
								<a href="@Url.Action("Index","SessionYear")" class="side-nav-link">
									<i class="ri-information-line"></i>
									<span> @_localization.Getkey("SessionYear") </span>
								</a>
							</li>
						}
						if ((user.LstPages).Contains("Dashboard"))
						{
							<li class="side-nav-item">
								<a href="@Url.Action("Index","Dashboard")" class="side-nav-link">
									<i class="ri-information-line"></i>
									<span> @_localization.Getkey("Dashboard") </span>
								</a>
							</li>
						}
						if ((user.LstPages).Contains("Admin Dashboard"))
						{
							<li class="side-nav-item">
								<a href="@Url.Action("Index","AdminDashboard")" class="side-nav-link">
									<i class="ri-information-line"></i>
									<span> @_localization.Getkey("AdminDashboard") </span>
								</a>
							</li>
						}
						<li class="side-nav-item">
							<a data-bs-toggle="collapse" href="#feemenu" aria-expanded="false" aria-controls="feemenu" class="side-nav-link">
								<i class="uil-money-withdraw"></i>
								<span> Fee Management </span>
								<span class="menu-arrow"></span>
							</a>
							<div class="collapse" id="feemenu">
								<ul class="side-nav-second-level">

									@if (user.LstPages.Contains("Fee Structure"))
									{
										<li>
											<a href="@Url.Action("Index","FeeStructure")">FeeStructure</a>
										</li>
									}
									@if (user.LstPages.Contains("Student Due"))
									{
										<li>
											<a href="@Url.Action("Index","StudentDue")">FeeDues</a>
										</li>
									}
								</ul>
							</div>
						</li>

						if ((user.LstPages).Contains("Report Settings"))
						{
							<li class="side-nav-item">
								<a href="@Url.Action("Index","ReportSettings")" class="side-nav-link">
									<i class="uil-atom"></i>
									<span> @_localization.Getkey("ReportSettings") </span>
								</a>
							</li>
						}
						if ((user.LstPages).Contains("Calendar Events"))
						{
							<li class="side-nav-item">
								<a href="@Url.Action("Index","CalendarEvent")" class="side-nav-link">
									<i class="uil-calender"></i>
									<span> @_localization.Getkey("EventsAndHolidays") </span>
								</a>
							</li>
						}
						if ((user.LstPages).Contains("Student Enquiry"))
						{
							<li class="side-nav-item">
								<a href="@Url.Action("Index","StudentEnquiry")" class="side-nav-link">
									<i class="uil-folder-question"></i>
									<span> @_localization.Getkey("StudentEnquiry") </span>
								</a>
							</li>
						}
						if ((user.LstPages).Contains("Expenses"))
						{
							<li class="side-nav-item">
								<a href="@Url.Action("Index","Expense")" class="side-nav-link">
									<i class="uil-dollar-sign"></i>
									<span> @_localization.Getkey("Expenses") </span>
								</a>
							</li>
						}
						if ((user.LstPages).Contains("Attendence"))
						{
							<li class="side-nav-item">
								<a href="@Url.Action("Index","Attendence")" class="side-nav-link">
									<i class="uil-clock"></i>
									<span> @_localization.Getkey("Attendence") </span>
								</a>
							</li>
						}

						if ((user.LstPages).Contains("Admin Notification"))
						{
							<li class="side-nav-item">
								<a href="@Url.Action("Index","AdminNotification")" class="side-nav-link">
									<i class="ri-message-2-line"></i>
									<span> @_localization.Getkey("AdminPost") </span>
								</a>
							</li>
						}
						if ((user.LstPages).Contains("Teacher Performance"))
						{
							<li class="side-nav-item">
								<a href="@Url.Action("Index","TeacherPerformance")" class="side-nav-link">
									<i class="ri-message-2-line"></i>
									<span> @_localization.Getkey("TeacherPerformance") </span>
								</a>
							</li>
						}

						@*if ((user.LstPages).Contains("Student Transfer"))
                        {
                            <li class="side-nav-item">
                                <a href="@Url.Action("Index","StudentTransfer")" class="side-nav-link">
                                    <i class="uil-map-pin"></i>
                                    <span> @_localization.Getkey("StudentTransfer") </span>
                                </a>
                            </li>
                        }
                        if ((user.LstPages).Contains("Teacher Transfer"))
                        {
                            <li class="side-nav-item">
                                <a href="@Url.Action("Index","TeacherTransfer")" class="side-nav-link">
                                    <i class="uil-map-pin"></i>
                                    <span> @_localization.Getkey("TeacherTransfer") </span>
                                </a>
                            </li>
                        }*@



						var isleaverequest = 0;
						@if ((user.LstPages).Contains("Leave Request"))
						{
							isleaverequest = 1;
						}
						@if ((user.LstPages).Contains("Leave Report"))
						{
							isleaverequest = 1;
						}
						@if (isleaverequest == 1)
						{
							<li class="side-nav-item">
								<a data-bs-toggle="collapse" href="#leaverequestmenu" aria-expanded="false" aria-controls="leaverequestmenu"
								   class="side-nav-link">
									<i class="uil-envelope-edit"></i>
									<span> @_localization.Getkey("LeaveRequests") </span>
									<span class="menu-arrow"></span>
								</a>
								<div class="collapse" id="leaverequestmenu">
									<ul class="side-nav-second-level">
										@if ((user.LstPages).Contains("Leave Request"))
										{
											<li>
												<a href="@Url.Action("Index","LeaveRequest")">@_localization.Getkey("LeaveRequest")</a>
											</li>
										}
										@if ((user.LstPages).Contains("Leave Report"))
										{
											<li>
												<a href="@Url.Action("Index","LeaveReport")">@_localization.Getkey("LeaveReport")</a>
											</li>
										}

									</ul>
								</div>
							</li>
						}
						if ((user.LstPages).Contains("Teacher Announcement"))
						{
							<li class="side-nav-item">
								<a href="@Url.Action("Index","TeacherAnnouncement")" class="side-nav-link">
									<i class="ri-information-line"></i>
									<span> @_localization.Getkey("TeacherAnnouncement") </span>
								</a>
							</li>
						}
						if ((user.LstPages).Contains("Student Assignment"))
						{
							<li class="side-nav-item">
								<a href="@Url.Action("Index","StudentAssignment")" class="side-nav-link">
									<i class="ri-information-line"></i>
									<span> @_localization.Getkey("StudentAssignment") </span>
								</a>
							</li>
						}
						@*  var istransfer = 0;
                            @if ((user.LstPages).Contains("Student Transfer"))
                            {
                            istransfer = 1;
                            }
                            @if ((user.LstPages).Contains("Teacher Transfer"))
                            {
                            istransfer = 1;
                            }
                            @if (istransfer == 1)
                            {
                            <li class="side-nav-item">
                            <a data-bs-toggle="collapse" href="#transfermenu" aria-expanded="false" aria-controls="transfermenu"
                            class="side-nav-link">
                            <i class="uil-clipboard-alt"></i>
                            <span> @_localization.Getkey("TransferPromotion") </span>
                            <span class="menu-arrow"></span>
                            </a>
                            <div class="collapse" id="transfermenu">
                            <ul class="side-nav-second-level">
                            @if ((user.LstPages).Contains("Student Transfer"))
                            {
                            <li>
                            <a href="@Url.Action("Index","StudentTransfer")">@_localization.Getkey("StudentTransfer")</a>
                            </li>
                            }
                            @if ((user.LstPages).Contains("Teacher Transfer"))
                            {
                            <li>
                            <a href="@Url.Action("Index","TeacherTransfer")">@_localization.Getkey("TeacherTransfer")</a>
                            </li>
                            }

                            </ul>
                            </div>
                            </li>
                            } *@

						var isexam = 0;
						@*    if ((user.LstPages).Contains("Examination (Pre-Requisites)"))
                            {
                            isexam = 1;
                            } *@
						if ((user.LstPages).Contains("Examination Schedule"))
						{
							isexam = 1;
						}
						if ((user.LstPages).Contains("Examination Syllabus"))
						{
							isexam = 1;
						}
						if ((user.LstPages).Contains("Examination Result"))
						{
							isexam = 1;
						}
						if (isexam == 1)
						{
							<li class="side-nav-item">
								<a data-bs-toggle="collapse" href="#exammenu" aria-expanded="false" aria-controls="exammenu" class="side-nav-link">
									<i class="uil-schedule"></i>
									<span> Examinations </span>
									<span class="menu-arrow"></span>
								</a>
								<div class="collapse" id="exammenu">
									<ul class="side-nav-second-level">

										@if (user.LstPages.Contains("Examination Schedule"))
										{
											<li>
												<a href="@Url.Action("Index","Schedule")">Schedules</a>
											</li>
										}
										@if (user.LstPages.Contains("Examination Syllabus"))
										{
											<li>
												<a href="@Url.Action("Index","ScheduleSyllabus")">Syllabus</a>
											</li>
										}
										@if (user.LstPages.Contains("Examination Result"))
										{
											<li>
												<a href="@Url.Action("Index","ScheduleResult")">Results</a>
											</li>
										}
									</ul>
								</div>
							</li>
						}
						if ((user.LstPages).Contains("Report Card"))
						{
							<li class="side-nav-item">
								<a href="@Url.Action("Index","ReportCard")" class="side-nav-link">
									<i class="uil-document-layout-left"></i>
									<span> @_localization.Getkey("ReportCard") </span>
								</a>
							</li>
						}

						@* if ((user.LstPages).Contains("License Info"))
                            {
                            <li class="side-nav-item">
                            <a href="@Url.Action("Index","License")" class="side-nav-link">
                            <i class="ri-settings-4-line"></i>
                            <span> License Info </span>
                            </a>
                            </li>
                            } *@

					}
					else
					{
						@Url.Action("LogOut", "Login")
					}



				</ul>
				<!--- End Sidemenu -->



				<div class="clearfix"></div>
			</div>
		</div>
		<!-- ========== Left Sidebar End ========== -->
		<!-- ============================================================== -->
		<!-- Start Page Content here -->
		<!-- ============================================================== -->

		<div class="content-page">
			<div class="content">

				<!-- Start Content-->
				<div class="container-fluid">

					@RenderBody()


				</div>
				<!-- container -->
				<div id="primary-header-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="primary-header-modalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header modal-colored-header bg-primary">
								<h4 class="modal-title" id="primary-header-modalLabel">Modal Heading</h4>
								<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
							</div>
							<div class="modal-body" id="myModalBodyDiv1">
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- content -->
			<!-- Footer Start -->
			@* <footer class="footer">
                <div class="container-fluid">
                <div class="row">
                <div class="col-md-6">
                <script>document.write(new Date().getFullYear())</script> © Intellabs
                </div>

                </div>
                </div>
                </footer>*@
			<!-- end Footer -->

		</div>

		<!-- ============================================================== -->
		<!-- End Page content -->
		<!-- ============================================================== -->

	</div>
	<!-- END wrapper -->
	<!-- Theme Settings -->
	<div class="offcanvas offcanvas-end border-0" tabindex="-1" id="theme-settings-offcanvas">
		<div class="d-flex align-items-center bg-primary p-3 offcanvas-header">
			<h5 class="text-white m-0">Theme Settings</h5>
			<button type="button" class="btn-close btn-close-white ms-auto" data-bs-dismiss="offcanvas" aria-label="Close"></button>
		</div>

		<div class="offcanvas-body p-0">
			<div data-simplebar class="h-100">
				<div class="card mb-0 p-3">
					<h5 class="mt-0 font-16 fw-bold mb-3">Choose Layout</h5>
					<div class="row">
						<div class="col-4">
							<div class="form-check card-radio">
								<input id="customizer-layout01" name="data-layout" type="radio" value="vertical" class="form-check-input">
								<label class="form-check-label p-0 avatar-md w-100" for="customizer-layout01">
									<span class="d-flex h-100">
										<span class="flex-shrink-0">
											<span class="bg-light d-flex h-100 border-end flex-column p-1 px-2">
												<span class="d-block p-1 bg-dark-lighten rounded mb-1"></span>
												<span class="d-block border border-3 w-100 mb-1"></span>
												<span class="d-block border border-3 w-100 mb-1"></span>
												<span class="d-block border border-3 w-100 mb-1"></span>
												<span class="d-block border border-3 w-100 mb-1"></span>
											</span>
										</span>
										<span class="flex-grow-1">
											<span class="d-flex h-100 flex-column">
												<span class="bg-light d-block p-1"></span>
											</span>
										</span>
									</span>
								</label>
							</div>
							<h5 class="font-14 text-center text-muted mt-2">Vertical</h5>
						</div>
						<div class="col-4">
							<div class="form-check card-radio">
								<input id="customizer-layout02" name="data-layout" type="radio" value="horizontal" class="form-check-input">
								<label class="form-check-label p-0 avatar-md w-100" for="customizer-layout02">
									<span class="d-flex h-100 flex-column">
										<span class="bg-light d-flex p-1 align-items-center border-bottom">
											<span class="d-block p-1 bg-dark-lighten rounded me-1"></span>
											<span class="d-block border border-3 ms-auto"></span>
											<span class="d-block border border-3 ms-1"></span>
											<span class="d-block border border-3 ms-1"></span>
											<span class="d-block border border-3 ms-1"></span>
										</span>
										<span class="bg-light d-block p-1"></span>
									</span>
								</label>
							</div>
							<h5 class="font-14 text-center text-muted mt-2">Horizontal</h5>
						</div>
					</div>

					<h5 class="my-3 font-16 fw-bold">Color Scheme</h5>

					<div class="colorscheme-cardradio">
						<div class="row">
							<div class="col-4">
								<div class="form-check card-radio">
									<input class="form-check-input" type="radio" name="data-theme" id="layout-color-light"
										   value="light">
									<label class="form-check-label p-0 avatar-md w-100" for="layout-color-light">
										<span class="d-flex h-100">
											<span class="flex-shrink-0">
												<span class="bg-light d-flex h-100 border-end  flex-column p-1 px-2">
													<span class="d-block p-1 bg-dark-lighten rounded mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
												</span>
											</span>
											<span class="flex-grow-1">
												<span class="d-flex h-100 flex-column">
													<span class="bg-light d-block p-1"></span>
												</span>
											</span>
										</span>
									</label>
								</div>
								<h5 class="font-14 text-center text-muted mt-2">Light</h5>
							</div>

							<div class="col-4">
								<div class="form-check card-radio">
									<input class="form-check-input" type="radio" name="data-theme" id="layout-color-dark"
										   value="dark">
									<label class="form-check-label p-0 avatar-md w-100 bg-black" for="layout-color-dark">
										<span class="d-flex h-100">
											<span class="flex-shrink-0">
												<span class="bg-light-lighten d-flex h-100 flex-column p-1 px-2">
													<span class="d-block p-1 bg-light-lighten rounded mb-1"></span>
													<span class="d-block border opacity-25 border-3 w-100 mb-1"></span>
													<span class="d-block border opacity-25 border-3 w-100 mb-1"></span>
													<span class="d-block border opacity-25 border-3 w-100 mb-1"></span>
													<span class="d-block border opacity-25 border-3 w-100 mb-1"></span>
												</span>
											</span>
											<span class="flex-grow-1">
												<span class="d-flex h-100 flex-column">
													<span class="bg-light-lighten d-block p-1"></span>
												</span>
											</span>
										</span>
									</label>
								</div>
								<h5 class="font-14 text-center text-muted mt-2">Dark</h5>
							</div>
						</div>
					</div>

					<div id="layout-width">
						<h5 class="my-3 font-16 fw-bold">Layout Mode</h5>

						<div class="row">
							<div class="col-4">
								<div class="form-check card-radio">
									<input class="form-check-input" type="radio" name="data-layout-mode"
										   id="layout-mode-fluid" value="fluid">
									<label class="form-check-label p-0 avatar-md w-100" for="layout-mode-fluid">
										<span class="d-flex h-100">
											<span class="flex-shrink-0">
												<span class="bg-light d-flex h-100 border-end  flex-column p-1 px-2">
													<span class="d-block p-1 bg-dark-lighten rounded mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
												</span>
											</span>
											<span class="flex-grow-1">
												<span class="d-flex h-100 flex-column">
													<span class="bg-light d-block p-1"></span>
												</span>
											</span>
										</span>
									</label>
								</div>
								<h5 class="font-14 text-center text-muted mt-2">Fluid</h5>
							</div>
							<div class="col-4" id="layout-boxed">
								<div class="form-check card-radio">
									<input class="form-check-input" type="radio" name="data-layout-mode"
										   id="layout-mode-boxed" value="boxed">
									<label class="form-check-label p-0 avatar-md w-100 px-2" for="layout-mode-boxed">
										<span class="d-flex h-100 border-start border-end">
											<span class="flex-shrink-0">
												<span class="bg-light d-flex h-100 border-end flex-column p-1">
													<span class="d-block p-1 bg-dark-lighten rounded mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
												</span>
											</span>
											<span class="flex-grow-1">
												<span class="d-flex h-100 flex-column">
													<span class="bg-light d-block p-1"></span>
												</span>
											</span>
										</span>
									</label>
								</div>
								<h5 class="font-14 text-center text-muted mt-2">Boxed</h5>
							</div>

							<div class="col-4" id="layout-detached">
								<div class="form-check sidebar-setting card-radio">
									<input class="form-check-input" type="radio" name="data-layout-mode"
										   id="data-layout-detached" value="detached">
									<label class="form-check-label p-0 avatar-md w-100" for="data-layout-detached">
										<span class="d-flex h-100 flex-column">
											<span class="bg-light d-flex p-1 align-items-center border-bottom">
												<span class="d-block p-1 bg-dark-lighten rounded me-1"></span>
												<span class="d-block border border-3 ms-auto"></span>
												<span class="d-block border border-3 ms-1"></span>
												<span class="d-block border border-3 ms-1"></span>
												<span class="d-block border border-3 ms-1"></span>
											</span>
											<span class="d-flex h-100 p-1 px-2">
												<span class="flex-shrink-0">
													<span class="bg-light d-flex h-100 flex-column p-1 px-2">
														<span class="d-block border border-3 w-100 mb-1"></span>
														<span class="d-block border border-3 w-100 mb-1"></span>
														<span class="d-block border border-3 w-100"></span>
													</span>
												</span>
											</span>
											<span class="bg-light d-block p-1 mt-auto px-2"></span>
										</span>

									</label>
								</div>
								<h5 class="font-14 text-center text-muted mt-2">Detached</h5>
							</div>
						</div>
					</div>

					<h5 class="my-3 font-16 fw-bold">Topbar Color</h5>

					<div class="row">
						<div class="col-4">
							<div class="form-check card-radio">
								<input class="form-check-input" type="radio" name="data-topbar-color"
									   id="topbar-color-light" value="light">
								<label class="form-check-label p-0 avatar-md w-100" for="topbar-color-light">
									<span class="d-flex h-100">
										<span class="flex-shrink-0">
											<span class="bg-light d-flex h-100 border-end  flex-column p-1 px-2">
												<span class="d-block p-1 bg-dark-lighten rounded mb-1"></span>
												<span class="d-block border border-3 w-100 mb-1"></span>
												<span class="d-block border border-3 w-100 mb-1"></span>
												<span class="d-block border border-3 w-100 mb-1"></span>
												<span class="d-block border border-3 w-100 mb-1"></span>
											</span>
										</span>
										<span class="flex-grow-1">
											<span class="d-flex h-100 flex-column">
												<span class="bg-light d-block p-1"></span>
											</span>
										</span>
									</span>
								</label>
							</div>
							<h5 class="font-14 text-center text-muted mt-2">Light</h5>
						</div>
						<div class="col-4">
							<div class="form-check card-radio">
								<input class="form-check-input" type="radio" name="data-topbar-color" id="topbar-color-dark"
									   value="dark">
								<label class="form-check-label p-0 avatar-md w-100" for="topbar-color-dark">
									<span class="d-flex h-100">
										<span class="flex-shrink-0">
											<span class="bg-light d-flex h-100 border-end  flex-column p-1 px-2">
												<span class="d-block p-1 bg-dark-lighten rounded mb-1"></span>
												<span class="d-block border border-3 w-100 mb-1"></span>
												<span class="d-block border border-3 w-100 mb-1"></span>
												<span class="d-block border border-3 w-100 mb-1"></span>
												<span class="d-block border border-3 w-100 mb-1"></span>
											</span>
										</span>
										<span class="flex-grow-1">
											<span class="d-flex h-100 flex-column">
												<span class="bg-dark d-block p-1"></span>
											</span>
										</span>
									</span>
								</label>
							</div>
							<h5 class="font-14 text-center text-muted mt-2">Dark</h5>
						</div>
					</div>

					<div id="sidebar-color">
						<h5 class="my-3 font-16 fw-bold">Sidebar Color</h5>

						<div class="row">
							<div class="col-4">
								<div class="form-check sidebar-setting card-radio">
									<input class="form-check-input" type="radio" name="data-sidenav-color"
										   id="leftbar-color-light" value="light">
									<label class="form-check-label p-0 avatar-md w-100" for="leftbar-color-light">
										<span class="d-flex h-100">
											<span class="flex-shrink-0">
												<span class="bg-light d-flex h-100 border-end  flex-column p-1 px-2">
													<span class="d-block p-1 bg-dark-lighten rounded mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
												</span>
											</span>
											<span class="flex-grow-1">
												<span class="d-flex h-100 flex-column">
													<span class="bg-light d-block p-1"></span>
												</span>
											</span>
										</span>
									</label>
								</div>
								<h5 class="font-14 text-center text-muted mt-2">Light</h5>
							</div>
							<div class="col-4">
								<div class="form-check sidebar-setting card-radio">
									<input class="form-check-input" type="radio" name="data-sidenav-color"
										   id="leftbar-color-dark" value="dark">
									<label class="form-check-label p-0 avatar-md w-100" for="leftbar-color-dark">
										<span class="d-flex h-100">
											<span class="flex-shrink-0">
												<span class="bg-dark d-flex h-100 flex-column p-1 px-2">
													<span class="d-block p-1 bg-light-lighten rounded mb-1"></span>
													<span class="d-block border opacity-25 border-3 w-100 mb-1"></span>
													<span class="d-block border opacity-25 border-3 w-100 mb-1"></span>
													<span class="d-block border opacity-25 border-3 w-100 mb-1"></span>
													<span class="d-block border opacity-25 border-3 w-100 mb-1"></span>
												</span>
											</span>
											<span class="flex-grow-1">
												<span class="d-flex h-100 flex-column">
													<span class="bg-light d-block p-1"></span>
												</span>
											</span>
										</span>
									</label>
								</div>
								<h5 class="font-14 text-center text-muted mt-2">Dark</h5>
							</div>
							<div class="col-4">
								<div class="form-check sidebar-setting card-radio">
									<input class="form-check-input" type="radio" name="data-sidenav-color"
										   id="leftbar-color-default" value="default">
									<label class="form-check-label p-0 avatar-md w-100" for="leftbar-color-default">
										<span class="d-flex h-100">
											<span class="flex-shrink-0">
												<span class="bg-primary bg-gradient d-flex h-100 flex-column p-1 px-2">
													<span class="d-block p-1 bg-light-lighten rounded mb-1"></span>
													<span class="d-block border opacity-25 border-3 w-100 mb-1"></span>
													<span class="d-block border opacity-25 border-3 w-100 mb-1"></span>
													<span class="d-block border opacity-25 border-3 w-100 mb-1"></span>
													<span class="d-block border opacity-25 border-3 w-100 mb-1"></span>
												</span>
											</span>
											<span class="flex-grow-1">
												<span class="d-flex h-100 flex-column">
													<span class="bg-light d-block p-1"></span>
												</span>
											</span>
										</span>
									</label>
								</div>
								<h5 class="font-14 text-center text-muted mt-2">Brand</h5>
							</div>
						</div>
					</div>

					<div id="sidebar-size">
						<h5 class="my-3 font-16 fw-bold">Sidebar Size</h5>

						<div class="row">
							<div class="col-4">
								<div class="form-check sidebar-setting card-radio">
									<input class="form-check-input" type="radio" name="data-sidenav-size"
										   id="leftbar-size-default" value="default">
									<label class="form-check-label p-0 avatar-md w-100" for="leftbar-size-default">
										<span class="d-flex h-100">
											<span class="flex-shrink-0">
												<span class="bg-light d-flex h-100 border-end  flex-column p-1 px-2">
													<span class="d-block p-1 bg-dark-lighten rounded mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
												</span>
											</span>
											<span class="flex-grow-1">
												<span class="d-flex h-100 flex-column">
													<span class="bg-light d-block p-1"></span>
												</span>
											</span>
										</span>
									</label>
								</div>
								<h5 class="font-14 text-center text-muted mt-2">Default</h5>
							</div>

							<div class="col-4">
								<div class="form-check sidebar-setting card-radio">
									<input class="form-check-input" type="radio" name="data-sidenav-size"
										   id="leftbar-size-compact" value="compact">
									<label class="form-check-label p-0 avatar-md w-100" for="leftbar-size-compact">
										<span class="d-flex h-100">
											<span class="flex-shrink-0">
												<span class="bg-light d-flex h-100 border-end  flex-column p-1">
													<span class="d-block p-1 bg-dark-lighten rounded mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
												</span>
											</span>
											<span class="flex-grow-1">
												<span class="d-flex h-100 flex-column">
													<span class="bg-light d-block p-1"></span>
												</span>
											</span>
										</span>
									</label>
								</div>
								<h5 class="font-14 text-center text-muted mt-2">Compact</h5>
							</div>

							<div class="col-4">
								<div class="form-check sidebar-setting card-radio">
									<input class="form-check-input" type="radio" name="data-sidenav-size"
										   id="leftbar-size-small" value="condensed">
									<label class="form-check-label p-0 avatar-md w-100" for="leftbar-size-small">
										<span class="d-flex h-100">
											<span class="flex-shrink-0">
												<span class="bg-light d-flex h-100 border-end  flex-column">
													<span class="d-block p-1 bg-dark-lighten mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
												</span>
											</span>
											<span class="flex-grow-1">
												<span class="d-flex h-100 flex-column">
													<span class="bg-light d-block p-1"></span>
												</span>
											</span>
										</span>
									</label>
								</div>
								<h5 class="font-14 text-center text-muted mt-2">Condensed</h5>
							</div>

							<div class="col-4">
								<div class="form-check sidebar-setting card-radio">
									<input class="form-check-input" type="radio" name="data-sidenav-size"
										   id="leftbar-size-small-hover" value="sm-hover">
									<label class="form-check-label p-0 avatar-md w-100" for="leftbar-size-small-hover">
										<span class="d-flex h-100">
											<span class="flex-shrink-0">
												<span class="bg-light d-flex h-100 border-end  flex-column">
													<span class="d-block p-1 bg-dark-lighten mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
													<span class="d-block border border-3 w-100 mb-1"></span>
												</span>
											</span>
											<span class="flex-grow-1">
												<span class="d-flex h-100 flex-column">
													<span class="bg-light d-block p-1"></span>
												</span>
											</span>
										</span>
									</label>
								</div>
								<h5 class="font-14 text-center text-muted mt-2">Hover View</h5>
							</div>

							<div class="col-4">
								<div class="form-check sidebar-setting card-radio">
									<input class="form-check-input" type="radio" name="data-sidenav-size" id="leftbar-size-full" value="full">
									<label class="form-check-label p-0 avatar-md w-100" for="leftbar-size-full">
										<span class="d-flex h-100">
											<span class="flex-shrink-0">
												<span class="d-flex h-100 border-end  flex-column">
													<span class="d-block p-1 bg-dark-lighten mb-1"></span>
												</span>
											</span>
											<span class="flex-grow-1">
												<span class="d-flex h-100 flex-column">
													<span class="bg-light d-block p-1"></span>
												</span>
											</span>
										</span>
									</label>
								</div>
								<h5 class="font-14 text-center text-muted mt-2">Full Layout</h5>
							</div>
						</div>
					</div>

					<div id="layout-position">
						<h5 class="my-3 font-16 fw-bold">Layout Position</h5>

						<div class="btn-group radio" role="group">
							<input type="radio" class="btn-check" name="data-layout-position" id="layout-position-fixed" value="fixed">
							<label class="btn btn-light w-sm" for="layout-position-fixed">Fixed</label>

							<input type="radio" class="btn-check" name="data-layout-position" id="layout-position-scrollable" value="scrollable">
							<label class="btn btn-light w-sm ms-0" for="layout-position-scrollable">Scrollable</label>
						</div>
					</div>

					<div id="sidebar-user">
						<div class="d-flex justify-content-between align-items-center mt-3">
							<label class="font-16 fw-bold m-0" for="sidebaruser-check">Sidebar User Info</label>
							<div class="form-check form-switch">
								<input type="checkbox" class="form-check-input" name="sidebar-user" id="sidebaruser-check">
							</div>
						</div>
					</div>

				</div>
			</div>

		</div>
		<div class="offcanvas-footer border-top p-3 text-center">
			<div class="row">
				<div class="col-6">
					<button type="button" class="btn btn-light w-100" id="reset-layout">Reset</button>
				</div>
			</div>
		</div>
	</div>
	
	
	<script src="~/assets/js/hyper-config.js"></script>
	<script src="~/assets/js/vendor.min.js"></script>
	<script src="~/assets/js/app.min.js"></script>
	
	<script src="~/assets/js/sessionTimeout.js"></script>
	<script src="~/assets/js/toastr.js"></script>
	<script src="~/assets/js/action.js"></script>
	<script src="~/assets/vendor/datatables.net/js/jquery.dataTables.min.js"></script>
	<script src="~/assets/vendor/datatables.net-bs5/js/dataTables.bootstrap5.min.js"></script>
	<script src="~/assets/js/bootbox.min.js"></script>

	@RenderSection("Scripts", required: false)
	@* 	
		<script src="~/assets/vendor/jquery/jquery.min.js"></script>
	<script src="~/assets/vendor/jquery-ui/jquery-ui.min.js"></script>
	<script src="~/assets/vendor/twitter-bootstrap-wizard/jquery.bootstrap.wizard.min.js"></script>	
	<script src="~/assets/vendor/chart.js/chart.min.js"></script>	
	<script src="~/assets/vendor/select2/js/select2.min.js"></script>
	
	<script src="~/assets/js/jquery.multi-select.js"></script>
	<script src="~/assets/js/qrcode.min.js"></script>
	<script src="~/assets/js/bootstrap-select.min.js"></script>
	<script src="~/assets/js/pdf.min.js"></script>
	<script src="~/assets/js/pdf.worker.min.js"></script>
	<script src="~/assets/js/jspdf.min.js"></script>
	<script src="~/assets/js/html2canvas.min.js"></script>
	<script src="~/assets/js/xlsx.min.js"></script>
	<script src="~/assets/vendor/quill/quill.min.js"></script>
	<script src="~/assets/js/mathjax.js"></script>
	<script src="~/assets/js/easyui.min.js"></script>
	<script src="~/assets/vendor/datatables.net/js/jquery.dataTables.min.js"></script>
	<script src="~/assets/vendor/datatables.net-bs5/js/dataTables.bootstrap5.min.js"></script>
	<script src="~/assets/vendor/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
	<script src="~/assets/vendor/datatables.net-responsive-bs5/js/responsive.bootstrap5.min.js"></script>
	<script src="~/assets/vendor/datatables.net-select/js/dataTables.select.min.js"></script>
	<script src="~/assets/vendor/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
	<script src="~/assets/vendor/datatables.net-buttons-bs5/js/buttons.bootstrap5.min.js"></script>
	<script src="~/assets/vendor/datatables.net-buttons/js/buttons.html5.min.js"></script>
	<script src="~/assets/vendor/datatables.net-buttons/js/buttons.flash.min.js"></script>
	<script src="~/assets/vendor/datatables.net-buttons/js/buttons.print.min.js"></script>
	<script src="~/assets/vendor/jquery-sparkline/jquery.sparkline.min.js"></script> *@


	<script>
				history.pushState(null, document.title, location.href);
				window.addEventListener('popstate', function (event) {
					history.pushState(null, document.title, location.href);
				});
		// 		if ('serviceWorker' in navigator && 'PushManager' in window) {
		// 				navigator.serviceWorker.register('/_service-worker.js').then(function (registration) {
		// 				   // console.log('Service Worker registered successfully:', registration);
		// 					Notification.requestPermission().then(function (permission) {
		// 						if (permission === "granted") {
		// 							subscribeUserToPush(registration);
		// 						}
		// 					});
		// 		}).catch(function (error) {
		// 			console.error('Service Worker registration failed:', error);
		// 		});
		// 		 // Listen for messages from the service worker
		// 		navigator.serviceWorker.addEventListener('message', function(event) {
		// 			if (event.data && event.data.type === 'UPDATE_NOTIFICATION_COUNT') {
		// 				// Increment notification count when the service worker sends the message
		// 				updateNotificationCount();
		// 			}
		// 		});
		// 		function subscribeUserToPush(registration) {
		// 				registration.pushManager.subscribe({
		// 					userVisibleOnly: true,
		// 					applicationServerKey: urlB64ToUint8Array(`@user.Vapidkey`) // Public Key from the server
		// 				}).then(function (subscription) {
		// 				   // console.log('User is subscribed:', subscription);
		// 					var p256dh = subscription.getKey('p256dh');
		// 					var auth = subscription.getKey('auth');

		// 					var p256dhBase64 = arrayBufferToBase64(p256dh);
		// 					var authBase64 = arrayBufferToBase64(auth);

		// 					var subObj ={};
		// 					subObj.Id=0;
		// 					subObj.EndPoint=subscription.endpoint;
		// 					subObj.P256dh= p256dhBase64;
		// 					subObj.Auth= authBase64;
		// 					 subObj.CreatedByUserId=@user.Id;
		// 					var jdata = JSON.stringify(subObj);
		// 					// Send subscription to the server
		// 					fetch('@Configuration["WebApi:ClientBaseUrl"]' + '/api/PushSubscription/Subscribe', {
		// 						method: 'POST',
		// 						headers: {
		// 							  'Authorization': 'Bearer ' + `@strtoken`,
		// 							'Content-Type': 'application/json'
		// 						},
		// 						body:jdata,
		// 						 success: function (response){
		// 							  toastr.success("User is subscribed Successfully");
		// 						 },
		// 						 error: function (response){
		// 							 toastr.error("Error while subscribing");
		// 						 }
		// 					});
		// 				}).catch(function (error) {
		// 					console.error('Failed to subscribe the user:', error);
		// 				});
		// 		}

		// 	}
		// 	// Function to update the notification count
		// 	function updateNotificationCount() {
		// 		var currentCount = parseInt(document.getElementById('lblNoticount').innerText) || 0;
		// 		currentCount += 1; // Increment the notification count by 1 (you can modify this logic as per your needs)
		// 		document.getElementById('lblNoticount').innerHTML = currentCount;
		// 	}
		// 	function urlB64ToUint8Array(base64String) {
		// 		var padding = '='.repeat((4 - base64String.length % 4) % 4); // Add padding
		// 		var base64 = (base64String + padding).replace(/\-/g, '+').replace(/\_/g, '/'); // Convert to regular base64
		// 		var rawData = atob(base64); // Decode base64 string
		// 		var outputArray = new Uint8Array(rawData.length); // Create an array
		// 		for (var i = 0; i < rawData.length; ++i) {
		// 			outputArray[i] = rawData.charCodeAt(i); // Convert each char code
		// 		}
		// 		return outputArray;
		// }
		// 	function arrayBufferToBase64(buffer) {
		// 	var binary = '';
		// 	var bytes = new Uint8Array(buffer);
		// 	var length = bytes.byteLength;
		// 	for (var i = 0; i < length; i++) {
		// 		binary += String.fromCharCode(bytes[i]);
		// 	}
		// 	return window.btoa(binary);
		// }

				/* BELOW CODE IS FOR SSE NOTIFICATIONS--------------------*/
				//const eventSource = new EventSource('http://192.168.58.106/SchoolAPI/api/notification/stream');
				//console.log(eventSource);
				//eventSource.onmessage = function (event) {
				//    const notification = event.data;
				//    // Handle the notification as needed
				//    console.log('Received notification:', notification);
				//    toastr.success('Received notification:', notification);
				//};

				//eventSource.onerror = function (error) {
				//    console.error('Error:', error);
				//    // Handle errors or reconnect logic
				//};

				var getProfile = function () {
					document.getElementById('primary-header-modalLabel').innerHTML = "Profile";
					var url = '@Url.Action("GetProfile", "Home")';
					$('#myModalBodyDiv1').load(url, function () {
						$('#primary-header-modal').modal("show");
					})
				}

				var EditPassword = function () {
					document.getElementById('primary-header-modalLabel').innerHTML = "Change Password";
					var url = '@Url.Action("EditPassword", "Home")';
					$('#myModalBodyDiv1').load(url, function () {
						$('#primary-header-modal').modal("show");
					})
				}
				//function changeLanguage() {
				//    document.getElementById("languageForm").submit();
				//}
	</script>

</body>
</html> 