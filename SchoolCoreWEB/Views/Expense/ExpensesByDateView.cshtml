@model IEnumerable<SchoolCoreWEB.Models.VExpense>

<div class="col-lg-12 grid-margin stretch-card">
            <div class="card">

                <div class="card-body table-responsive">                    
                    <div>
                        <table class="table table-striped table-bordered" id="ExpenseGrid">
                            <thead>
                                <tr>
                                     <th>Category</th>                                   
                                     <th>Title</th>
                                     <th>Created Date</th>
                                     <th>Amount</th>                                    
                                    
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model)
                                {
                                    <tr>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.CategoryName)
                                        </td>                                        
                                         <td>
                                            @Html.DisplayFor(modelItem => item.Title)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.StrExpenseDate)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Amount)
                                        </td>                                 
                                        
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                    
                </div>
            </div>
            
        </div>

        @* <script>
            function getExpenses(){                          
                           
                               $.ajax({
                                type: 'GET',
                                url: '@Url.Action("GetExpenses", "Expenses")',
                                async : false,                               
                                Accept: 'application/json, text/javascript',
                                contentType: 'application/x-www-form-urlencoded; charset=UTF-8',                         

                                success: function (response) {
                                    if (response != null) {
                                            var expenseData=[];
                                            $.each(response.lstExpense,function(key,value){                                                
                                                
                                                var btnaction='<div class="btn-group btn-group-sm dropdown" onclick="onSelect(this,ExpenseGrid);"> '+
                                                    '<a href="#" class="table-action-btn dropdown-toggle arrow-none btn btn-light btn-xs" data-bs-toggle="dropdown" aria-expanded="false"><i class="mdi mdi-dots-horizontal"></i></a>'+
                                                    '<div class="dropdown-menu dropdown-menu-end">'+
                                                        '<a class="dropdown-item" href="#" onclick="viewAction(`3`, '+value.id+')"><i class="ri-eye-line"></i>&nbsp; View</a>'+ 
                                                         '<a class="dropdown-item" href="#" onclick="addEditAction(`3`, '+value.id+')"><i class="ri-pencil-line"></i>&nbsp; Edit</a>'+ 
                                                         '<a class="dropdown-item" href="#" onclick="deleteAction(`3`, '+value.id+')"><i class="ri-delete-bin-line"></i>&nbsp; Delete</a>'+ 
                                                        '</div>'+
                                                '</div>'

                                                expenseData.push([value.employeeName,value.amount,value.strCreatedDate,value.createdBy,btnaction])
                                            })

                                            $("#ExpenseGrid").DataTable({
                                                "bDestroy": true,
                                                data : expenseData,
                                                order: [],
                                                 //dom: 'lBfrtip', 
                                                 dom: '<"container-fluid"<"row"<"col"l><"col"Bf>>>rt<"row"<"col"i><"col"p>>',
                                                   buttons: [
                                                         {
                                                            extend:    'csvHtml5',
                                                            text:      '<i class="ri-file-excel-line"></i>',
                                                            titleAttr: 'csv',
                                                            filename : 'Expenses',                                                           
                                                            className: 'btn btn-outline-light btn-sm',
                                                             exportOptions: {
                                                                    columns: [ 0,1,2,3 ]
                                                                }                                                                
                                                        }                                                       
                                                    ]
                                            })
                                            $("#loaderDiv").hide();                                         


                                        } else {
                                             toastr.error("Something went wrong");
                                        }
                                },
                                error: function (response) {
                                         toastr.error("Something went wrong");
                                }
                            })
         }
        </script> *@
